<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DX0SK05PR5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DX0SK05PR5');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO B√°sico -->
    <title>Gerador de Loterias Caixa - Palpites para Mega-Sena, Lotof√°cil e Mais</title>
    <meta name="description" content="Gere n√∫meros da sorte para Mega-Sena, Lotof√°cil, Quina, Lotomania e outras Loterias Caixa. Ferramenta gratuita, r√°pida e otimizada para criar seus jogos e bol√µes.">
    <meta name="keywords" content="gerador loterias, mega-sena, lotof√°cil, quina, palpites loteria, gerador de n√∫meros, sorteio caixa, loterias brasil">
    <meta name="author" content="Sorteio Master">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://seusite.com.br/">
    <meta property="og:title" content="Gerador de Palpites - Loterias Caixa">
    <meta property="og:description" content="Aumente suas chances com nosso gerador inteligente para Mega-Sena, Lotof√°cil e muito mais.">
    <meta property="og:image" content="https://seusite.com.br/assets/share-image.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Gerador de Palpites - Loterias Caixa">
    <meta property="twitter:description" content="Gere seus jogos de loteria de forma f√°cil e r√°pida.">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://seusite.com.br/">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #f3f4f6;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: rgba(0,0,0,0.1);
            border-radius: 20px;
        }

        .ball-enter {
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            opacity: 0;
            transform: scale(0.5);
        }

        @keyframes popIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* Checkbox Custom Styles */
        .custom-checkbox input:checked + div {
            transform: scale(1);
            opacity: 1;
        }
        .custom-checkbox input:checked ~ .checkmark-bg {
            background-color: currentColor;
            border-color: currentColor;
        }

        /* Placeholder para An√∫ncios (Visualiza√ß√£o) */
        .ad-placeholder {
            background-color: rgba(0,0,0,0.03);
            border: 2px dashed rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(0,0,0,0.3);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Modal Styles */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        mega: '#209869',
                        lotofacil: '#930089',
                        quina: '#260085',
                        lotomania: '#f78100',
                        timemania: '#00ff48',
                        duplasena: '#a61324',
                        diadesorte: '#cb852b',
                        milionaria: '#2e3049'
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen p-4 transition-colors duration-700 md:p-8" id="mainBody">

    <!-- Background Decoration -->
    <div class="fixed inset-0 z-0 opacity-20 pointer-events-none" id="bgPattern">
        <div class="absolute top-0 left-0 w-64 h-64 bg-white rounded-full mix-blend-overlay filter blur-3xl animate-pulse"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full mix-blend-overlay filter blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
    </div>

    <!-- Main Container -->
    <!-- Removed max-w-7xl to allow full width on desktop -->
    <main class="relative z-10 w-full mx-auto flex flex-col gap-10">
        
        <!-- Header / Logo Area (Optimized Layout) -->
        <header class="w-full flex flex-col sm:flex-row justify-between items-center gap-4 px-2">
            <!-- Left: Logo -->
            <div class="flex items-center gap-3 self-start sm:self-auto">
                <div class="inline-flex items-center justify-center p-3 rounded-2xl bg-white/20 backdrop-blur-sm shadow-sm">
                    <i class="ph-fill ph-clover text-3xl text-white"></i>
                </div>
                <div class="text-left">
                    <h1 class="text-2xl font-extrabold text-white tracking-wide uppercase leading-none">Sorteio Master</h1>
                    <p class="text-white/80 text-sm font-medium mt-0.5">Selecione e gere sua sorte</p>
                </div>
            </div>

            <!-- Right: Actions (Share & Donate) -->
            <div class="flex items-center gap-3 w-full sm:w-auto justify-end">
                <!-- Share Button -->
                <button onclick="shareSite()" class="flex-1 sm:flex-none justify-center h-12 px-4 rounded-2xl bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white transition-all hover:scale-105 active:scale-95 shadow-sm flex items-center gap-2 group" title="Compartilhar site">
                    <i class="ph-bold ph-share-network text-xl group-hover:rotate-12 transition-transform"></i>
                    <span class="font-bold text-sm">Compartilhar</span>
                </button>

                <!-- Donation Button -->
                <button onclick="openModal('donationModal')" class="flex-1 sm:flex-none justify-start h-12 px-2 pr-4 rounded-2xl bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all hover:scale-105 active:scale-95 shadow-sm flex items-center gap-3 group text-left">
                    <div class="bg-yellow-400 text-yellow-900 w-8 h-8 flex items-center justify-center rounded-xl group-hover:bg-yellow-300 transition-colors shadow-sm">
                        <i class="ph-fill ph-coffee text-lg"></i>
                    </div>
                    <div class="flex flex-col justify-center">
                        <span class="font-bold text-white text-sm leading-none">Apoie</span>
                        <span class="text-[10px] text-white/80 leading-none mt-0.5 hidden sm:inline-block">o Projeto</span>
                    </div>
                </button>
            </div>
        </header>

        <!-- Central Generator Section -->
        <div class="w-full flex flex-col items-center gap-6">
            
            <!-- AD SPACE: Top Banner (Mobile only or Sidebar Desktop) -->
            <div id="ad-top-banner" class="w-full max-w-lg h-[50px] rounded-lg ad-placeholder hidden">
                Publicidade (Topo)
            </div>

            <!-- Intro Section -->
            <section class="w-full max-w-lg bg-white/80 backdrop-blur-sm rounded-3xl p-5 shadow-sm text-gray-700 border border-white/40">
                <h3 class="font-bold text-gray-800 text-sm mb-2 flex items-center gap-2">
                    <i class="ph-bold ph-info text-gray-500"></i> Sobre o Gerador
                </h3>
                <p class="text-xs leading-relaxed text-gray-600">
                    O <strong>Sorteio Master</strong> √© uma ferramenta gratuita desenvolvida para ajudar apostadores a criar palpites otimizados para as principais loterias da Caixa Econ√¥mica Federal.
                </p>
            </section>

            <!-- App Card -->
            <article class="w-full max-w-lg glass-panel rounded-[2.5rem] shadow-2xl overflow-hidden transition-all duration-500">
                
                <!-- Game Selector (Horizontal Scroll) -->
                <nav class="p-6 pb-2" aria-label="Seletor de Loterias">
                    <label class="text-xs font-bold text-gray-400 uppercase tracking-wider ml-2 mb-2 block">Escolha a Loteria</label>
                    <div class="flex space-x-3 overflow-x-auto hide-scroll pb-4" id="gameSelector">
                        <!-- Buttons injected via JS -->
                    </div>
                </nav>

                <hr class="border-gray-100 mx-6">

                <!-- Controls Area -->
                <section class="p-6">
                    <!-- Header Info -->
                    <div class="mb-4">
                        <h2 class="text-2xl font-bold text-gray-800" id="gameTitle">Mega-Sena</h2>
                        <p class="text-xs text-gray-500 font-medium mt-1" id="gameRules">1 a 60 ‚Ä¢ Escolha 6 n√∫meros</p>
                    </div>

                    <!-- Dual Controls: Numbers & Games -->
                    <div class="grid grid-cols-2 gap-3 mb-6">
                        <!-- Numbers Per Game Control -->
                        <div class="bg-gray-50 rounded-2xl p-3 border border-gray-100 flex flex-col justify-between">
                            <label class="text-[10px] font-bold text-gray-400 uppercase tracking-wide mb-1">N√∫meros / Jogo</label>
                            <div class="flex items-center justify-between bg-white rounded-xl p-1 shadow-sm">
                                <button onclick="adjustCount(-1)" class="w-8 h-8 flex items-center justify-center rounded-lg text-gray-500 hover:bg-red-50 hover:text-red-500 transition active:scale-90" aria-label="Diminuir n√∫meros">
                                    <i class="ph-bold ph-minus"></i>
                                </button>
                                <span id="numberCountDisplay" class="font-bold text-gray-800 text-lg mx-1">6</span>
                                <button onclick="adjustCount(1)" class="w-8 h-8 flex items-center justify-center rounded-lg text-gray-500 hover:bg-green-50 hover:text-green-500 transition active:scale-90" aria-label="Aumentar n√∫meros">
                                    <i class="ph-bold ph-plus"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Quantity of Games Control -->
                        <div class="bg-gray-50 rounded-2xl p-3 border border-gray-100 flex flex-col justify-between">
                            <label class="text-[10px] font-bold text-gray-400 uppercase tracking-wide mb-1">Qtd. Jogos</label>
                            <div class="flex items-center justify-between bg-white rounded-xl p-1 shadow-sm">
                                <button onclick="adjustGameCount(-1)" class="w-8 h-8 flex items-center justify-center rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-800 transition active:scale-90" aria-label="Diminuir quantidade de jogos">
                                    <i class="ph-bold ph-minus"></i>
                                </button>
                                <span id="gamesCountDisplay" class="font-bold text-gray-800 text-lg mx-1">1</span>
                                <button onclick="adjustGameCount(1)" class="w-8 h-8 flex items-center justify-center rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-800 transition active:scale-90" aria-label="Aumentar quantidade de jogos">
                                    <i class="ph-bold ph-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- AD SPACE: In-Content -->
                    <div id="ad-content-middle" class="w-full h-[60px] mb-4 rounded-xl ad-placeholder hidden">
                        Publicidade
                    </div>

                    <!-- Results Display Area -->
                    <div id="resultsWrapper" class="bg-gray-50 rounded-3xl border border-gray-100 p-4 min-h-[140px] max-h-[400px] overflow-y-auto custom-scroll relative transition-colors duration-300">
                        <div id="resultsArea" class="flex flex-col gap-3">
                            <!-- Empty State -->
                            <div class="text-center text-gray-400 py-8 flex flex-col items-center justify-center h-full w-full">
                                <i class="ph-duotone ph-magic-wand text-4xl mb-2 opacity-50"></i>
                                <p class="text-sm">Configure e toque em gerar</p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="mt-6 grid grid-cols-4 gap-3">
                        <button onclick="generateBatch()" id="btnGenerate" class="col-span-3 py-4 rounded-2xl bg-gray-900 text-white font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 group active:scale-95">
                            <i class="ph-bold ph-shuffle group-hover:rotate-180 transition-transform duration-500"></i>
                            Gerar Jogos
                        </button>
                        <button onclick="handleMainCopy()" id="btnCopyMain" class="col-span-1 py-4 rounded-2xl bg-white border-2 border-gray-200 text-gray-600 font-bold shadow-sm hover:border-gray-400 hover:text-gray-800 transition-colors flex items-center justify-center active:scale-95 group relative" title="Copiar">
                            <span id="copyCountBadge" class="absolute -top-2 -right-2 bg-gray-900 text-white text-[10px] font-bold px-2 py-0.5 rounded-full hidden">0</span>
                            <i id="copyIconMain" class="ph-bold ph-copy text-xl"></i>
                        </button>
                    </div>
                </section>
            </article>

            <!-- AD SPACE: Bottom -->
            <div id="ad-bottom-rect" class="w-full max-w-lg h-[100px] rounded-2xl ad-placeholder hidden">
                Publicidade (Rodap√©)
            </div>
        </div>

        <!-- Guide Section (Below Generator) -->
        <section class="bg-white/90 backdrop-blur-sm rounded-[2.5rem] p-8 shadow-lg text-gray-700 w-full">
            <div class="text-center mb-10">
                <h3 class="font-extrabold text-gray-900 text-3xl mb-3">Guia Completo das Loterias</h3>
                <p class="text-gray-500 max-w-2xl mx-auto leading-relaxed">
                    Entenda como funciona cada modalidade, quantas dezenas voc√™ pode escolher e o que √© preciso acertar para levar o pr√™mio. Utilize nosso gerador para criar suas estrat√©gias.
                </p>
            </div>

            <!-- Grid Layout for Guide Cards - Expanded for large screens -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
                
                <!-- Mega-Sena -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-emerald-700 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-clover text-2xl"></i> Mega-Sena
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">A queridinha do Brasil. Paga milh√µes para quem acertar os 6 n√∫meros sorteados.</p>
                        <ul class="bg-emerald-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-emerald-600 mt-0.5"></i> <span><strong class="text-emerald-700">Universo:</strong> 60 n√∫meros (01 a 60).</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-emerald-600 mt-0.5"></i> <span><strong class="text-emerald-700">Aposta:</strong> Escolha de 6 a 20 n√∫meros.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-emerald-600 mt-0.5"></i> <span><strong class="text-emerald-700">Premia√ß√£o:</strong> Ganha quem acertar 4, 5 ou 6 n√∫meros.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Lotof√°cil -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-fuchsia-700 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-star text-2xl"></i> Lotof√°cil
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">Como o nome diz: f√°cil de apostar e f√°cil de ganhar. √â uma das modalidades que mais premia.</p>
                        <ul class="bg-fuchsia-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-fuchsia-600 mt-0.5"></i> <span><strong class="text-fuchsia-700">Universo:</strong> 25 n√∫meros (01 a 25).</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-fuchsia-600 mt-0.5"></i> <span><strong class="text-fuchsia-700">Aposta:</strong> Escolha de 15 a 20 n√∫meros.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-fuchsia-600 mt-0.5"></i> <span><strong class="text-fuchsia-700">Premia√ß√£o:</strong> Ganha quem acertar 11 a 15 n√∫meros.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Quina -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-indigo-700 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-diamond text-2xl"></i> Quina
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">Sorteios di√°rios (segunda a s√°bado). Uma √≥tima op√ß√£o para quem gosta de jogar com frequ√™ncia.</p>
                        <ul class="bg-indigo-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-indigo-600 mt-0.5"></i> <span><strong class="text-indigo-700">Universo:</strong> 80 n√∫meros (01 a 80).</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-indigo-600 mt-0.5"></i> <span><strong class="text-indigo-700">Aposta:</strong> Escolha de 5 a 15 n√∫meros.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-indigo-600 mt-0.5"></i> <span><strong class="text-indigo-700">Premia√ß√£o:</strong> Ganha quem acertar 2, 3, 4 ou 5 n√∫meros.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Lotomania -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-orange-600 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-users-three text-2xl"></i> Lotomania
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">A loteria dos "azarados": voc√™ ganha at√© se n√£o acertar nenhum n√∫mero!</p>
                        <ul class="bg-orange-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-orange-500 mt-0.5"></i> <span><strong class="text-orange-600">Universo:</strong> 100 n√∫meros (00 a 99).</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-orange-500 mt-0.5"></i> <span><strong class="text-orange-600">Aposta:</strong> Escolha 50 n√∫meros.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-orange-500 mt-0.5"></i> <span><strong class="text-orange-600">Premia√ß√£o:</strong> Ganha acertando 20, 19, 18, 17, 16, 15 ou 0.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- +Milion√°ria -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-slate-700 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-coins text-2xl"></i> +Milion√°ria
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">A nova loteria com pr√™mio m√≠nimo garantido de R$ 10 milh√µes.</p>
                        <ul class="bg-slate-50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-slate-600 mt-0.5"></i> <span><strong class="text-slate-700">Matriz 1:</strong> 50 n√∫meros. Escolha 6 a 12.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-clover text-slate-600 mt-0.5"></i> <span><strong class="text-slate-700">Matriz 2:</strong> 6 trevos. Escolha 2 a 6.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-slate-600 mt-0.5"></i> <span><strong class="text-slate-700">Premia√ß√£o:</strong> V√°rias faixas, come√ßando com 2+1.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Dia de Sorte -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-amber-600 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-calendar-check text-2xl"></i> Dia de Sorte
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">Aposte nos seus n√∫meros da sorte e no seu m√™s favorito.</p>
                        <ul class="bg-amber-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-amber-600 mt-0.5"></i> <span><strong class="text-amber-700">Universo:</strong> 31 n√∫meros + 12 Meses.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-amber-600 mt-0.5"></i> <span><strong class="text-amber-700">Aposta:</strong> 7 a 15 n√∫meros + 1 M√™s.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-amber-600 mt-0.5"></i> <span><strong class="text-amber-700">Premia√ß√£o:</strong> 4, 5, 6, 7 acertos e/ou M√™s.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Dupla Sena -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-rose-700 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-number-two text-2xl"></i> Dupla Sena
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">Dupla chance: concorra a 2 sorteios por concurso com o mesmo bilhete.</p>
                        <ul class="bg-rose-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-rose-600 mt-0.5"></i> <span><strong class="text-rose-700">Universo:</strong> 50 n√∫meros (01 a 50).</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-rose-600 mt-0.5"></i> <span><strong class="text-rose-700">Aposta:</strong> Escolha de 6 a 15 n√∫meros.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-rose-600 mt-0.5"></i> <span><strong class="text-rose-700">Premia√ß√£o:</strong> 3, 4, 5 ou 6 acertos em qualquer sorteio.</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Timemania -->
                <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 flex flex-col h-full">
                    <h4 class="font-bold text-lime-600 text-xl mb-3 flex items-center gap-2">
                        <i class="ph-fill ph-soccer-ball text-2xl"></i> Timemania
                    </h4>
                    <div class="space-y-3 text-sm flex flex-col flex-grow">
                        <p class="text-gray-600">Para os apaixonados por futebol. Ajude seu time e concorra a pr√™mios.</p>
                        <ul class="bg-lime-50/50 p-4 rounded-xl space-y-2 mt-auto">
                            <li class="flex items-start gap-2"><i class="ph-bold ph-hash text-lime-600 mt-0.5"></i> <span><strong class="text-lime-700">Universo:</strong> 80 n√∫meros + 80 Times.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-pencil-simple text-lime-600 mt-0.5"></i> <span><strong class="text-lime-700">Aposta:</strong> 10 n√∫meros + 1 Time.</span></li>
                            <li class="flex items-start gap-2"><i class="ph-bold ph-trophy text-lime-600 mt-0.5"></i> <span><strong class="text-lime-700">Premia√ß√£o:</strong> 3 a 7 acertos e/ou Time.</span></li>
                        </ul>
                    </div>
                </div>

            </div>
            
            <p class="text-center text-xs text-gray-400 mt-10 italic border-t border-gray-100 pt-6">
                *As informa√ß√µes acima s√£o baseadas nas regras oficiais da Caixa Econ√¥mica Federal. Este site n√£o realiza apostas, funcionando apenas como uma ferramenta de gera√ß√£o de palpites aleat√≥rios. Jogue com responsabilidade e apenas se for maior de 18 anos.
            </p>
        </section>

        <!-- Footer -->
        <footer class="text-center text-white/60 text-xs py-8 w-full">
            <div class="flex justify-center gap-4 mb-2">
                <button onclick="openModal('termsModal')" class="hover:text-white underline transition-colors">Termos de Uso</button>
                <span>‚Ä¢</span>
                <button onclick="openModal('privacyModal')" class="hover:text-white underline transition-colors">Pol√≠tica de Privacidade</button>
            </div>
            <p>&copy; 2024 Sorteio Master - Todos os direitos reservados.</p>
        </footer>

    </main>

    <!-- Modals -->
    <!-- Donation Modal -->
    <div id="donationModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal-overlay">
        <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-popIn">
            <div class="bg-yellow-50 p-6 border-b border-yellow-100 flex items-center gap-4">
                <div class="bg-yellow-400 text-yellow-900 p-3 rounded-2xl shadow-sm">
                    <i class="ph-fill ph-coffee text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-gray-800">Apoie o Projeto</h3>
                    <p class="text-xs text-gray-500">Ajude a manter o site online e sem custos.</p>
                </div>
                <button onclick="closeModal('donationModal')" class="ml-auto text-gray-400 hover:text-gray-600 p-2">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            
            <div class="p-6">
                <p class="text-sm text-gray-600 mb-4 text-center">Gostou do gerador? Sua contribui√ß√£o ajuda a pagar os servidores e manter o site no ar!</p>
                
                <div class="flex justify-center mb-4">
                    <img src="https://i.imgur.com/tZ93d7S.png" alt="QR Code Pix" class="w-48 h-48 rounded-xl shadow-md border border-gray-100">
                </div>

                <div class="bg-gray-50 rounded-xl border border-gray-200 p-3 flex flex-col gap-2">
                    <label class="text-[10px] font-bold text-gray-400 uppercase">Chave Pix (Aleat√≥ria)</label>
                    <div class="flex items-center gap-2">
                        <code class="text-xs font-mono text-gray-600 truncate flex-1 select-all bg-white p-2 rounded border border-gray-100" id="pixKey">62956194-0328-498b-9d53-62f6969b9ccb</code>
                        <button onclick="copyPix()" class="bg-yellow-500 hover:bg-yellow-600 text-white p-2 rounded-lg transition-colors flex-shrink-0 active:scale-95 shadow-sm" title="Copiar">
                            <i class="ph-bold ph-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="p-4 bg-gray-50 text-center border-t border-gray-100">
                <p class="text-xs text-gray-400">Obrigado pelo seu apoio! üçÄ</p>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div id="termsModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal-overlay">
        <div class="bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Termos de Uso</h3>
                <button onclick="closeModal('termsModal')" class="text-gray-400 hover:text-gray-600 p-2">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            <div class="p-6 overflow-y-auto text-gray-600 text-sm leading-relaxed space-y-4">
                <p>Bem-vindo ao <strong>Sorteio Master</strong>. Ao utilizar nosso site, voc√™ concorda com os seguintes termos:</p>
                
                <h4 class="font-bold text-gray-800">1. Natureza do Servi√ßo</h4>
                <p>O Sorteio Master √© uma ferramenta gratuita de entretenimento que gera combina√ß√µes num√©ricas aleat√≥rias. Este site <strong>n√£o realiza apostas</strong>, n√£o processa pagamentos relacionados a jogos de azar e n√£o possui qualquer v√≠nculo com a Caixa Econ√¥mica Federal ou outras entidades oficiais de loteria.</p>

                <h4 class="font-bold text-gray-800">2. Isen√ß√£o de Garantias</h4>
                <p>Os n√∫meros s√£o gerados de forma matematicamente aleat√≥ria. N√£o h√° nenhuma garantia de acerto, ganho ou aumento de probabilidade de vit√≥ria ao utilizar nossas sugest√µes. O uso das combina√ß√µes geradas √© de total responsabilidade do usu√°rio.</p>

                <h4 class="font-bold text-gray-800">3. Responsabilidade do Usu√°rio</h4>
                <p>O usu√°rio declara ser maior de 18 anos e estar ciente de que jogos de loteria envolvem riscos financeiros. Recomendamos o jogo respons√°vel e consciente.</p>

                <h4 class="font-bold text-gray-800">4. Altera√ß√µes</h4>
                <p>Reservamo-nos o direito de modificar ou descontinuar o servi√ßo a qualquer momento, sem aviso pr√©vio.</p>
            </div>
            <div class="p-4 border-t border-gray-100 bg-gray-50 text-center">
                <button onclick="closeModal('termsModal')" class="px-6 py-2 bg-gray-800 text-white rounded-xl font-bold hover:bg-gray-900 transition-colors">Entendi</button>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div id="privacyModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal-overlay">
        <div class="bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Pol√≠tica de Privacidade</h3>
                <button onclick="closeModal('privacyModal')" class="text-gray-400 hover:text-gray-600 p-2">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            <div class="p-6 overflow-y-auto text-gray-600 text-sm leading-relaxed space-y-4">
                <p>Sua privacidade √© importante para n√≥s. Esta pol√≠tica explica como tratamos suas informa√ß√µes:</p>
                
                <h4 class="font-bold text-gray-800">1. Coleta de Dados</h4>
                <p>O Sorteio Master √© uma aplica√ß√£o que roda principalmente no lado do cliente (seu navegador). <strong>N√£o coletamos, armazenamos ou transmitimos</strong> dados pessoais, hist√≥ricos de gera√ß√£o de n√∫meros ou informa√ß√µes de identifica√ß√£o pessoal de nossos usu√°rios.</p>

                <h4 class="font-bold text-gray-800">2. Cookies e Armazenamento Local</h4>
                <p>Atualmente, n√£o utilizamos cookies para rastreamento. Podemos utilizar o armazenamento local do seu navegador apenas para salvar prefer√™ncias de configura√ß√£o (como o √∫ltimo jogo selecionado) para melhorar sua experi√™ncia, sem enviar esses dados para servidores externos.</p>

                <h4 class="font-bold text-gray-800">3. Links Externos e An√∫ncios</h4>
                <p>O site pode conter espa√ßos para publicidade ou links para sites de terceiros. N√£o nos responsabilizamos pelas pr√°ticas de privacidade desses sites parceiros.</p>

                <h4 class="font-bold text-gray-800">4. Contato</h4>
                <p>Para d√∫vidas sobre esta pol√≠tica, entre em contato atrav√©s dos canais dispon√≠veis na plataforma (se houver).</p>
            </div>
            <div class="p-4 border-t border-gray-100 bg-gray-50 text-center">
                <button onclick="closeModal('privacyModal')" class="px-6 py-2 bg-gray-800 text-white rounded-xl font-bold hover:bg-gray-900 transition-colors">Entendi</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 transition-all duration-300 opacity-0 translate-y-10 pointer-events-none z-50">
        <i class="ph-fill ph-check-circle text-green-400 text-xl"></i>
        <span class="font-medium text-sm" id="toastText">Copiado com sucesso!</span>
    </div>

    <script>
        // --- Game Configuration Data ---
        const games = {
            mega: {
                id: 'mega',
                name: 'Mega-Sena',
                colorClass: 'bg-emerald-600',
                ballColor: 'border-emerald-500 text-emerald-700 bg-emerald-50',
                colorCode: 'text-emerald-600',
                min: 1,
                max: 60,
                defaultCount: 6,
                minCount: 6,
                maxCount: 20, 
                gradient: 'from-emerald-600 to-teal-500'
            },
            lotofacil: {
                id: 'lotofacil',
                name: 'Lotof√°cil',
                colorClass: 'bg-fuchsia-600',
                ballColor: 'border-fuchsia-500 text-fuchsia-700 bg-fuchsia-50',
                colorCode: 'text-fuchsia-600',
                min: 1,
                max: 25,
                defaultCount: 15,
                minCount: 15,
                maxCount: 20,
                gradient: 'from-fuchsia-600 to-purple-600'
            },
            quina: {
                id: 'quina',
                name: 'Quina',
                colorClass: 'bg-indigo-600',
                ballColor: 'border-indigo-500 text-indigo-700 bg-indigo-50',
                colorCode: 'text-indigo-600',
                min: 1,
                max: 80,
                defaultCount: 5,
                minCount: 5,
                maxCount: 15,
                gradient: 'from-indigo-600 to-blue-600'
            },
            lotomania: {
                id: 'lotomania',
                name: 'Lotomania',
                colorClass: 'bg-orange-500',
                ballColor: 'border-orange-500 text-orange-700 bg-orange-50',
                colorCode: 'text-orange-500',
                min: 0,
                max: 99,
                defaultCount: 20, 
                minCount: 15,
                maxCount: 50,
                gradient: 'from-orange-500 to-amber-500'
            },
            duplasena: {
                id: 'duplasena',
                name: 'Dupla Sena',
                colorClass: 'bg-rose-600',
                ballColor: 'border-rose-500 text-rose-700 bg-rose-50',
                colorCode: 'text-rose-600',
                min: 1,
                max: 50,
                defaultCount: 6,
                minCount: 6,
                maxCount: 15,
                gradient: 'from-rose-600 to-red-500'
            },
            diadesorte: {
                id: 'diadesorte',
                name: 'Dia de Sorte',
                colorClass: 'bg-amber-500',
                ballColor: 'border-amber-500 text-amber-700 bg-amber-50',
                colorCode: 'text-amber-500',
                min: 1,
                max: 31,
                defaultCount: 7,
                minCount: 7,
                maxCount: 15,
                hasMonth: true,
                gradient: 'from-amber-500 to-yellow-500'
            },
            milionaria: {
                id: 'milionaria',
                name: '+Milion√°ria',
                colorClass: 'bg-slate-700',
                ballColor: 'border-slate-500 text-slate-700 bg-slate-50',
                colorCode: 'text-slate-600',
                min: 1,
                max: 50,
                defaultCount: 6,
                minCount: 6,
                maxCount: 12, 
                hasTrevos: true,
                gradient: 'from-slate-700 to-gray-800'
            },
            timemania: {
                id: 'timemania',
                name: 'Timemania',
                colorClass: 'bg-lime-500',
                ballColor: 'border-lime-500 text-lime-700 bg-lime-50',
                colorCode: 'text-lime-600',
                min: 1,
                max: 80,
                defaultCount: 10,
                minCount: 10,
                maxCount: 10,
                gradient: 'from-lime-500 to-green-500'
            }
        };

        const months = ["Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

        // --- State ---
        let currentGame = games.mega;
        let currentNumCount = games.mega.defaultCount;
        let currentGamesCount = 1;
        
        let allGeneratedGames = []; 
        let selectedIndices = new Set();

        // --- DOM Elements ---
        const mainBody = document.getElementById('mainBody');
        const gameSelector = document.getElementById('gameSelector');
        const gameTitle = document.getElementById('gameTitle');
        const gameRules = document.getElementById('gameRules');
        const numberCountDisplay = document.getElementById('numberCountDisplay');
        const gamesCountDisplay = document.getElementById('gamesCountDisplay');
        const resultsArea = document.getElementById('resultsArea');
        const btnGenerate = document.getElementById('btnGenerate');
        const btnCopyMain = document.getElementById('btnCopyMain');
        const copyCountBadge = document.getElementById('copyCountBadge');
        const copyIconMain = document.getElementById('copyIconMain');

        // --- Initialization ---
        function init() {
            renderGameSelector();
            selectGame('mega');

            // Habilita rolagem horizontal com a rodinha do mouse no Desktop
            gameSelector.addEventListener('wheel', (evt) => {
                evt.preventDefault();
                gameSelector.scrollLeft += evt.deltaY;
            });
        }

        function renderGameSelector() {
            gameSelector.innerHTML = '';
            Object.values(games).forEach(game => {
                const btn = document.createElement('button');
                btn.className = `flex-shrink-0 px-5 py-2 rounded-xl font-bold text-sm transition-all border-2 border-transparent ${game.id === currentGame.id ? 'bg-gray-800 text-white shadow-md' : 'bg-gray-100 text-gray-500 hover:bg-white hover:border-gray-200'}`;
                btn.innerText = game.name;
                btn.onclick = () => selectGame(game.id);
                btn.id = `btn-select-${game.id}`;
                gameSelector.appendChild(btn);
            });
        }

        function selectGame(gameId) {
            currentGame = games[gameId];
            currentNumCount = currentGame.defaultCount;
            // Reset to clean state
            currentGamesCount = 1;
            allGeneratedGames = [];
            selectedIndices.clear();
            updateCopyButtonUI();

            // Visual Updates - Mant√©m o gradiente mas ajusta para n√£o conflitar com layout de duas colunas
            // No desktop, o fundo √© o gradiente, e os containers s√£o vidro/branco
            mainBody.className = `min-h-screen p-4 transition-colors duration-700 md:p-8 bg-gradient-to-br ${currentGame.gradient}`;
            
            gameTitle.innerText = currentGame.name;
            gameTitle.className = `text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r ${currentGame.gradient}`;
            
            let rangeText = `${currentGame.min} a ${currentGame.max}`;
            if(currentGame.id === 'lotomania') rangeText = "00 a 99";
            gameRules.innerText = `Faixa: ${rangeText}`;

            // Reset UI
            numberCountDisplay.innerText = currentNumCount;
            gamesCountDisplay.innerText = currentGamesCount;
            
            resultsArea.innerHTML = `
                <div class="text-center text-gray-400 py-8">
                    <i class="ph-duotone ph-magic-wand text-4xl mb-2 opacity-50"></i>
                    <p class="text-sm">Toque em gerar</p>
                </div>
            `;

            // Button Color
            btnGenerate.className = `col-span-3 py-4 rounded-2xl text-white font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 group active:scale-95 bg-gradient-to-r ${currentGame.gradient}`;

            // Update Tabs
            Object.values(games).forEach(g => {
                const btn = document.getElementById(`btn-select-${g.id}`);
                if (g.id === currentGame.id) {
                    btn.className = `flex-shrink-0 px-5 py-2 rounded-xl font-bold text-sm transition-all shadow-md bg-gray-900 text-white transform scale-105`;
                } else {
                    btn.className = `flex-shrink-0 px-5 py-2 rounded-xl font-bold text-sm transition-all bg-gray-100 text-gray-400 hover:bg-gray-200`;
                }
            });
        }

        // --- Adjusters ---
        function adjustCount(delta) {
            let newCount = currentNumCount + delta;
            if (newCount >= currentGame.minCount && newCount <= currentGame.maxCount) {
                currentNumCount = newCount;
                numberCountDisplay.innerText = currentNumCount;
            }
        }

        function adjustGameCount(delta) {
            let newCount = currentGamesCount + delta;
            if (newCount >= 1 && newCount <= 50) { 
                currentGamesCount = newCount;
                gamesCountDisplay.innerText = currentGamesCount;
            }
        }

        // --- Logic ---
        function generateSingleGame() {
            const nums = new Set();
            while(nums.size < currentNumCount) {
                let n = Math.floor(Math.random() * (currentGame.max - currentGame.min + 1)) + currentGame.min;
                nums.add(n);
            }
            const sortedNums = Array.from(nums).sort((a, b) => a - b);
            
            let formattedNums = sortedNums.map(n => {
                if (currentGame.id === 'lotomania' && n === 0) return "00";
                return n.toString().padStart(2, '0');
            });

            let extra = null;
            if (currentGame.hasMonth) {
                extra = `M√™s: ${months[Math.floor(Math.random() * 12)]}`;
            } else if (currentGame.hasTrevos) {
                let t1 = Math.floor(Math.random() * 6) + 1;
                let t2 = Math.floor(Math.random() * 6) + 1;
                while (t1 === t2) t2 = Math.floor(Math.random() * 6) + 1;
                const trevos = [t1, t2].sort((a,b)=>a-b);
                extra = `Trevos: ${trevos.join(' e ')}`;
            }

            return { numbers: formattedNums, extras: extra };
        }

        function generateBatch() {
            allGeneratedGames = [];
            selectedIndices.clear();
            updateCopyButtonUI();
            resultsArea.innerHTML = ''; 

            for(let i = 0; i < currentGamesCount; i++) {
                allGeneratedGames.push(generateSingleGame());
            }

            renderResults();
        }

        function renderResults() {
            allGeneratedGames.forEach((game, index) => {
                // Container for Single Game Row
                const row = document.createElement('div');
                // ID for easier DOM manipulation later
                row.id = `game-row-${index}`;
                
                const isSelected = selectedIndices.has(index);
                // Style selection
                
                // Add specific styling for selected state via JS during render
                if(isSelected) {
                   row.style.borderColor = 'currentColor'; 
                   row.classList.add(currentGame.colorCode);
                }

                row.className = `ball-enter bg-white p-3 rounded-2xl shadow-sm flex flex-col sm:flex-row items-center justify-between gap-3 transition-all duration-200 cursor-pointer hover:shadow-md ${isSelected ? `ring-2 ring-offset-1 ring-current ${currentGame.colorCode}` : 'border border-gray-100'}`;
                
                row.style.animationDelay = `${index * 0.05}s`;
                
                // Click on row toggles selection (unless clicking buttons)
                row.onclick = (e) => {
                    if(e.target.closest('button')) return; // Ignore if clicking the copy button
                    toggleSelection(index);
                };

                // Left Side: Checkbox & Label
                const leftDiv = document.createElement('div');
                leftDiv.className = 'flex items-center gap-3 w-full sm:w-auto';

                // Custom Checkbox
                const checkboxHtml = `
                    <label class="custom-checkbox relative flex items-center justify-center w-6 h-6 cursor-pointer">
                        <input type="checkbox" class="peer appearance-none w-full h-full" ${isSelected ? 'checked' : ''} onchange="toggleSelection(${index})">
                        <div class="checkmark-bg absolute inset-0 rounded-lg border-2 border-gray-200 transition-all duration-200 peer-checked:bg-gray-800 peer-checked:border-gray-800"></div>
                        <i class="ph-bold ph-check text-white text-xs absolute transform scale-0 transition-transform duration-200 z-10"></i>
                    </label>
                `;
                
                // Index Badge
                const badge = `<div class="bg-gray-100 text-gray-400 text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider min-w-[50px] text-center select-none">#${index + 1}</div>`;
                
                leftDiv.innerHTML = checkboxHtml + badge;


                // Middle: Numbers
                const numsContainer = document.createElement('div');
                numsContainer.className = 'flex flex-wrap justify-center gap-2 flex-1 pointer-events-none'; 

                const isCompact = currentNumCount > 10 || currentGamesCount > 5;
                const ballSize = isCompact ? 'w-8 h-8 text-xs' : 'w-10 h-10 text-sm';

                game.numbers.forEach(num => {
                    const ball = document.createElement('span');
                    ball.className = `flex items-center justify-center rounded-full font-bold border ${currentGame.ballColor} ${ballSize}`;
                    ball.innerText = num;
                    numsContainer.appendChild(ball);
                });

                if (game.extras) {
                    const extraBadge = document.createElement('span');
                    extraBadge.className = 'text-xs font-semibold text-gray-500 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 whitespace-nowrap';
                    extraBadge.innerText = game.extras;
                    numsContainer.appendChild(extraBadge);
                }

                // Right: Individual Copy Button
                const copyBtn = document.createElement('button');
                copyBtn.className = 'w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-800 hover:bg-gray-100 transition-colors flex-shrink-0 z-10';
                copyBtn.innerHTML = '<i class="ph-bold ph-copy"></i>';
                copyBtn.title = "Copiar este jogo";
                copyBtn.onclick = (e) => {
                    e.stopPropagation(); // Prevent row selection when clicking copy
                    copySingleGame(index);
                };

                row.appendChild(leftDiv);
                row.appendChild(numsContainer);
                row.appendChild(copyBtn);
                resultsArea.appendChild(row);
            });
        }

        // --- Selection Logic ---
        function toggleSelection(index) {
            const row = document.getElementById(`game-row-${index}`);
            const checkbox = row.querySelector('input[type="checkbox"]');
            
            if (selectedIndices.has(index)) {
                selectedIndices.delete(index);
                // Remove Styles
                row.classList.remove('ring-2', 'ring-offset-1', 'ring-current', currentGame.colorCode);
                row.classList.add('border', 'border-gray-100');
                if(checkbox) checkbox.checked = false;
            } else {
                selectedIndices.add(index);
                // Add Styles
                row.classList.remove('border', 'border-gray-100');
                row.classList.add('ring-2', 'ring-offset-1', 'ring-current', currentGame.colorCode);
                if(checkbox) checkbox.checked = true;
            }
            updateCopyButtonUI();
        }

        function updateCopyButtonUI() {
            const count = selectedIndices.size;
            
            if (count > 0) {
                // Mode: Copy Selected
                copyIconMain.className = "ph-fill ph-copy-simple text-xl"; 
                copyCountBadge.innerText = count;
                copyCountBadge.classList.remove('hidden');
                btnCopyMain.classList.add('border-gray-800', 'text-gray-900');
                btnCopyMain.classList.remove('border-gray-200', 'text-gray-600');
                btnCopyMain.title = `Copiar ${count} jogos selecionados`;
            } else {
                // Mode: Copy All
                copyIconMain.className = "ph-bold ph-copy text-xl";
                copyCountBadge.classList.add('hidden');
                btnCopyMain.classList.remove('border-gray-800', 'text-gray-900');
                btnCopyMain.classList.add('border-gray-200', 'text-gray-600');
                btnCopyMain.title = "Copiar todos os jogos";
            }
        }

        // --- Clipboard Handling ---
        
        // Helper to perform copy
        function copyTextToClipboard(text, successMsg) {
            // Using execCommand for better compatibility in iframes/previews
            const textArea = document.createElement("textarea");
            textArea.value = text;
            
            // Ensure element is part of DOM but invisible to user layout
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            textArea.style.top = "0";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showToast(successMsg);
                } else {
                    console.error("Falha ao copiar.");
                }
            } catch (err) {
                console.error("Erro ao copiar", err);
            }
            
            document.body.removeChild(textArea);
        }

        // 1. Copy Single
        function copySingleGame(index) {
            const game = allGeneratedGames[index];
            let text = `üé≤ ${currentGame.name} - Jogo ${index + 1}: ${game.numbers.join(' - ')}`;
            if (game.extras) text += ` (${game.extras})`;
            
            copyTextToClipboard(text, "Jogo copiado!");
        }

        // 2. Main Copy Handler (Context Aware)
        function handleMainCopy() {
            if (allGeneratedGames.length === 0) return;

            let gamesToCopy = [];
            let isSelectionMode = selectedIndices.size > 0;

            if (isSelectionMode) {
                // Sort indices to keep order correct
                const indices = Array.from(selectedIndices).sort((a,b) => a-b);
                gamesToCopy = indices.map(i => ({ data: allGeneratedGames[i], index: i }));
            } else {
                gamesToCopy = allGeneratedGames.map((g, i) => ({ data: g, index: i }));
            }

            let textToCopy = `üçÄ Sorteio Master - ${currentGame.name}\n`;
            
            gamesToCopy.forEach(item => {
                textToCopy += `\nüé´ Jogo ${item.index + 1}: ${item.data.numbers.join(' - ')}`;
                if (item.data.extras) textToCopy += ` (${item.data.extras})`;
            });
            
            textToCopy += `\n\nBoa sorte!`;
            
            const msg = isSelectionMode 
                ? `${gamesToCopy.length} jogos selecionados copiados!` 
                : (allGeneratedGames.length > 1 ? "Todos os jogos copiados!" : "Jogo copiado!");
                
            copyTextToClipboard(textToCopy, msg);
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            const toastText = document.getElementById('toastText');
            
            toastText.innerText = msg;
            
            toast.classList.remove('opacity-0', 'translate-y-10');
            
            // Clear previous timeout if spamming buttons
            if(window.toastTimeout) clearTimeout(window.toastTimeout);
            
            window.toastTimeout = setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-10');
            }, 3000);
        }

        // --- Pix Copy ---
        function copyPix() {
            const pixKey = document.getElementById('pixKey').innerText;
            copyTextToClipboard(pixKey, "Chave Pix copiada!");
        }

        // --- Modal Logic ---
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling bg
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
            document.body.style.overflow = ''; // Restore scrolling
        }

        // --- Share Logic ---
        function shareSite() {
            if (navigator.share) {
                navigator.share({
                    title: 'Sorteio Master',
                    text: 'Gere seus n√∫meros da sorte para as Loterias Caixa!',
                    url: window.location.href,
                })
                .catch((error) => console.log('Erro ao compartilhar', error));
            } else {
                copyTextToClipboard(window.location.href, "Link copiado!");
            }
        }

        // Close on click outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }

        init();
    </script>
</body>
</html>
